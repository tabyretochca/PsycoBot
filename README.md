# Персонализированный Telegram-бот-психолог

## 1. Что за бот
Этот проект представляет собой Telegram-бота, который выступает в роли эмпатичного психолога. Бот помогает пользователям справляться с эмоциями, выслушивает их проблемы и предлагает поддержку через диалог. Он запоминает контекст разговора и отвечает в зависимости от введённых пользователем сообщений.

## 2. Особенности
- **Роль психолога**: Бот поддерживает, задаёт уточняющие вопросы и даёт советы, имитируя эмпатичного собеседника.
- **Технологии**:
  - Используется библиотека **LangChain** для работы с цепочками и памятью контекста.
  - Интеграция с **GigaChat** (бесплатный API от Сбера) как языковая модель.
  - **python-telegram-bot** для взаимодействия с Telegram API.
- **Память**: Благодаря `ConversationBufferMemory` бот сохраняет историю диалога, что делает общение более естественным.
- **Команды**:
  - `/start` — начало общения.
  - `/reset` — очистка истории разговора.
  - `/help` — список команд.
  - `/mood` — запрос оценки настроения.
- **Простота**: Минималистичная реализация без сложных зависимостей.

## 3. Установка
1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/your-username/your-repo-name.git
   cd your-repo-name
   ```
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Настройте переменные окружения:
   - Создайте файл `.env` в корне проекта.
   - Добавьте в него свои ключи:
     ```
     TELEGRAM_TOKEN=your_telegram_bot_token
     GIGACHAT_TOKEN=your_gigachat_bearer_token
     ```
   - **Telegram Token**: Получите у [@BotFather](https://t.me/BotFather) в Telegram.
   - **GigaChat Token**: Зарегистрируйтесь на [developers.sber.ru](https://developers.sber.ru/portal/products/gigachat) и создайте проект для получения токена.

## 4. Запуск
1. Убедитесь, что все зависимости установлены и файл `.env` настроен.
2. Запустите бота:
   ```bash
   python main.py
   ```
3. Откройте Telegram, найдите своего бота и начните с команды `/start`.

## 5. Требования
- **Python**: 3.9 или выше.
- **Библиотеки**: Указаны в `requirements.txt`:
  ```
  langchain==0.1.16
  python-telegram-bot==13.15
  gigachain==0.0.6
  python-dotenv==1.0.1
  requests==2.31.0
  ```
- **API-ключи**: Токены для Telegram и GigaChat.

## 6. Структура проекта
```
your-repo-name/
│
├── main.py          # Основной файл с кодом бота
├── requirements.txt # Список зависимостей
├── .env             # Файл с переменными окружения (добавьте вручную, не включён в репозиторий)
└── README.md        # Документация проекта
```

- **`main.py`**: Содержит всю логику бота, включая интеграцию с Telegram и GigaChat, а также обработку команд и сообщений.
- **`requirements.txt`**: Перечень необходимых библиотек для установки.
- **`.env`**: Хранит конфиденциальные ключи (не добавляйте его в Git!).

## 7. Примечания
- **Ограничения GigaChat**: Бесплатный API может иметь лимиты на количество запросов. При превышении лимита бот вернёт ошибку.
- **SSL**: В текущей версии проверка SSL отключена (`verify_ssl_certs=False`) для упрощения. В продакшене рекомендуется включить проверку.
- **Расширение**: Бот можно улучшить, добавив анализ тональности, персонализацию (например, обращение по имени) или предложения упражнений (см. код в истории разработки).
- **Лицензия**: Укажи лицензию (например, MIT), если планируешь делиться проектом публично.

---
